(function(t){function e(e){for(var s,r,n=e[0],c=e[1],l=e[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},o={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/greenery/dist/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0ebf":function(t,e,a){t.exports=a.p+"img/copperion_test.c717c851.jpg"},1100:function(t,e,a){"use strict";a("a65c")},1843:function(t,e,a){t.exports=a.p+"img/cockroach.e8d48a89.png"},"1b36":function(t,e,a){"use strict";a("9f2e")},"1d60":function(t,e,a){},"1fae":function(t,e,a){t.exports=a.p+"img/copperion.6cf18edf.jpg"},"20e3":function(t,e,a){t.exports=a.p+"img/copperion.85551ac9.png"},2210:function(t,e,a){"use strict";a("1d60")},"35e2":function(t,e,a){"use strict";a("bb1d")},"4a2f":function(t,e,a){"use strict";a("b1d9")},"4ebc":function(t,e,a){"use strict";a("863b")},"50ac":function(t,e,a){t.exports=a.p+"img/no_copperion.ba430e59.jpg"},"53cc":function(t,e,a){"use strict";a("7ec9")},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=a("2f62"),i=a("bc3a"),r=a.n(i),n=a("a7fe"),c=a.n(n),l=a("9062"),d=a.n(l),u=(a("e40d"),a("4989"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-light bg-light position-fixed w-100"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v(" Greenery ")]),a("router-link",{staticClass:"navbar-brand ml-4 desktop",attrs:{to:"/"}},[t._v("關於我們")]),a("router-link",{staticClass:"navbar-brand ml-2 desktop",attrs:{to:"/shop"}},[t._v("所有商品")]),a("div",{staticClass:"dropdown ml-auto d-flex align-items-center"},[a("button",{staticClass:"btn btn-sm btn-cart mr-2",attrs:{"data-toggle":"dropdown","data-flip":"false"}},[a("i",{staticClass:"fa fa-shopping-cart text-dark fa-2x",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"badge badge-pill badge-danger"},[t._v(t._s(t.cart.carts.length))]),a("span",{staticClass:"sr-only"},[t._v("unread messages")])]),a("router-link",{staticClass:"navbar-brand",attrs:{to:"/login"}},[t._v("登入")]),a("div",{staticClass:"dropdown-menu dropdown-menu-right p-3",staticStyle:{"min-width":"300px"},attrs:{"data-offset":"400"}},[t._m(0),a("table",{staticClass:"table table-sm"},[a("tbody",[t.cart.carts.length?t._e():a("tr",{staticClass:"text-center"},[a("td",[t._v("購物車目前沒東西唷!")])]),t._l(t.cart.carts,(function(e){return a("tr",{key:e.id},[t.cart.carts.length?a("td",{staticClass:"align-middle text-center"},[a("a",{staticClass:"text-muted",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeCart(e.id)}}},[a("i",{staticClass:"fas fa-trash",attrs:{"aria-hidden":"true"}})])]):t._e(),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v("NT$"+t._s(e.total))])])}))],2),a("tfoot",{staticClass:"mt-4"},[t.cart.carts.length?a("tr",[a("td",{staticClass:"text-right"},[t._v("總計")]),a("td"),a("td"),a("td",{staticClass:"text-right"},[t._v("NT$"+t._s(t.cart.final_total))])]):t._e()])]),t.cart.carts.length?a("button",{staticClass:"btn btn-primary btn-block"},[a("router-link",{attrs:{to:"/front_orders"}},[a("i",{staticClass:"fa fa-cart-plus text-light mr-2",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"text-light"},[t._v("結帳去")])])],1):t._e()])],1),a("div",{staticClass:"hamburger"},[t._m(1),a("div",{staticClass:"collapse navbar-collapse hamburg_list",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"navbar-brand nav-link",attrs:{to:"/"}},[t._v("關於我們")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"navbar-brand nav-link",attrs:{to:"/shop"}},[t._v("所有商品")])],1)])])])],1),t._m(2),a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("transition",{attrs:{name:"page",mode:"out-in"}},[a("router-view",{key:"$route.path"})],1),t._m(3)],1)}),p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"mb-3 text-center"},[a("i",{staticClass:"fas fa-clipboard-list mr-3 text-primary"}),t._v("已選擇商品")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler bread",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jumbotron jumbotron-fluid jumbotron-bg d-flex align-items-end m-0"},[a("div",{staticClass:"container"},[a("div",{staticClass:"p-5 bg-lighter"},[a("h1",{staticClass:"display-5 font-weight-bold mb-4 text-center"},[t._v("綠藝盎然 Greenery")]),a("p",{staticClass:"lead text-center"},[t._v("環保，綠的代名詞。跟我們一起愛護地球，讓生活綠藝盎然!")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"text-muted py-5"},[a("div",{staticClass:"container"},[a("ul",{staticClass:"list-inline text-center"},[a("li",{staticClass:"list-inline-item"},[t._v("© Copright 2020 綠藝盎然")]),a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"text-info",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-facebook-square"})])]),a("li",{staticClass:"list-inline-item"},[a("a",{staticClass:"text-info",attrs:{href:"#"}},[a("i",{staticClass:"fab fa-instagram ig"})])])])])])}],m=a("5530"),_={name:"App",computed:Object(m["a"])({isLoading:function(){return this.$store.state.isLoading}},Object(o["c"])("cartsModules",["cart"])),methods:Object(m["a"])({},Object(o["b"])("cartsModules",["removeCart","getCart"])),created:function(){this.getCart()}},v=_,f=(a("cf25"),a("7cac"),a("2877")),g=Object(f["a"])(v,u,p,!1,null,"15811f02",null),h=g.exports,C=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"wrap"},[t._m(0),a("section",{attrs:{id:"bugprevent"}},[t._m(1),t.products.length?a("VueSlickCarousel",t._b({},"VueSlickCarousel",t.settings,!1),t._l(t.bugData,(function(e){return a("div",{key:e.id,staticClass:"cards"},[e.category?a("div",{staticClass:"card"},[a("img",{attrs:{src:e.imageUrl,alt:""}}),a("div",{staticClass:"text"},[a("h2",[t._v(t._s(e.title))]),a("h3",{staticClass:"middel"},[t._v(t._s(e.content))]),a("h3",[t._v("NT$"+t._s(e.price))])])]):t._e()])})),0):t._e()],1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),a("section",{attrs:{id:"copperProduct"}},[t._m(9),t.products.length?a("VueSlickCarousel",t._b({},"VueSlickCarousel",t.settings,!1),t._l(t.ionData,(function(e){return a("div",{key:e.id,staticClass:"cards"},[a("div",{staticClass:"card"},[a("img",{attrs:{src:e.imageUrl,alt:""}}),a("div",{staticClass:"text"},[a("h2",[t._v(t._s(e.title))]),a("h3",{staticClass:"middel"},[t._v(t._s(e.content))]),a("h3",[t._v("NT$"+t._s(e.price))])])])])})),0):t._e()],1)])])},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"bugQue"}},[s("div",{staticClass:"title animated_fadeIn"},[s("img",{staticClass:"bug1 ",attrs:{src:a("1843"),alt:""}}),s("h2",[t._v("您是否也有下困擾，又不知道怎麼解決呢?")])]),s("div",{staticClass:"content"},[s("div",{staticClass:"spaceBetween"},[s("h3",{staticClass:"animated_slideToRight"},[t._v("螞蟻怎麼又出現了!")]),s("h3",{staticClass:"animated_slideToLeft"},[t._v("家裡怎麼有這麼多果蠅?")])]),s("div",{staticClass:"ant animated_slideToRight"},[s("img",{attrs:{src:a("af8c"),alt:""}})]),s("div",{staticClass:"spaceBetween"},[s("h3",{staticClass:"animated_slideToRight"},[t._v("媽呀!有蟑螂!")]),s("h3",{staticClass:"animated_slideToLeft"},[t._v("怎麼又有蒼蠅!?")])])]),s("div",{staticClass:"text"},[s("i",{staticClass:"fas fa-globe-asia earth animated_slideDown"}),s("h2",{staticClass:"animated_fadeIn"},[t._v("您的聲音，我們聽到了。")]),s("p",{staticClass:"animated_fadeIn"},[t._v("我們推出一些商品，在生活同時也響應環保!")])]),s("div",{staticClass:"mountains animated_fadeIn"},[s("i",{staticClass:"fas fa-mountain m"}),s("i",{staticClass:"fas fa-mountain s"}),s("i",{staticClass:"fas fa-mountain l"}),s("i",{staticClass:"fas fa-mountain s last"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",[t._v("防蟲專區")]),a("h2",{staticClass:"subtitle"},[t._v("BugPrevent")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"nature"}},[a("div",{staticClass:"sky"},[a("div",{staticClass:"fas fa-sun sun"}),a("div",{staticClass:"cloudbox"},[a("div",{staticClass:"fas fa-cloud cloud cloud1"}),a("div",{staticClass:"fas fa-cloud cloud cloud2"}),a("div",{staticClass:"fas fa-cloud cloud cloud3"}),a("div",{staticClass:"fas fa-cloud cloud cloud4"})])]),a("div",{staticClass:"content"},[a("div",{staticClass:"icons"},[a("i",{staticClass:"fa fa-water water"}),a("i",{staticClass:"fa fa-fish fish"}),a("i",{staticClass:"fas fa-bug bug"})]),a("h2",[t._v("曾經，大自然給我們一個資源豐富、美麗的環境。")])]),a("div",{staticClass:"trees"},[a("i",{staticClass:"fas fa-tree"}),a("i",{staticClass:"fas fa-tree m"}),a("i",{staticClass:"fas fa-tree s"}),a("i",{staticClass:"fas fa-tree m"}),a("i",{staticClass:"fas fa-tree s"}),a("i",{staticClass:"fas fa-tree"}),a("i",{staticClass:"fas fa-tree m"}),a("i",{staticClass:"fas fa-tree s"}),a("i",{staticClass:"fas fa-tree"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"danger"}},[s("img",{attrs:{src:a("9f77"),alt:""}}),s("h2",{staticClass:"animated_slideToRight"},[t._v("現在，為滿足人類的需求，大肆的開發環境，造成環境汙染。")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"example"}},[s("div",{staticClass:"title"},[s("h2",[t._v("環境的汙染")])]),s("div",{staticClass:"content animated_slideToRight"},[s("img",{attrs:{src:a("8fdc"),alt:""}}),s("div",{staticClass:"text"},[s("h3",[t._v("森林破壞")]),s("p",[t._v("人為因素的森林破壞包括森林採伐，人類引起森林火災，酸雨和引進的物種。也有自然因素可能會破壞森林，包括森林火災、昆蟲、疾病、天氣、物種之間的競爭等。")])])]),s("div",{staticClass:"content animated_slideToRight"},[s("img",{attrs:{src:a("cdb7"),alt:""}}),s("div",{staticClass:"text"},[s("h3",[t._v("河川汙染")]),s("p",[t._v("水污染正在成為世界死亡和疾病的主要黑手，每天有14,000多人因此喪生。據估算，在印度每天約有580人死於水污染有關的疾病。中國水資源中約有九成被污染。")])])]),s("div",{staticClass:"content animated_slideToRight"},[s("img",{attrs:{src:a("9647"),alt:""}}),s("div",{staticClass:"text"},[s("h3",[t._v("空氣汙染")]),s("p",[t._v("空氣污染的一個重要風險因素是導致一系列健康問題，包括呼吸感染、心臟病、慢性阻塞性肺病、中風和肺癌。")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"copperIntro"}},[s("div",{staticClass:"title"},[s("i",{staticClass:"fas fa-atom animated_showUp"}),s("h3",{staticClass:"animated_fadeIn"},[t._v("為了愛地球提倡環保，我們致力尋找環保素材。")]),s("h2",{staticClass:"animated_fadeIn"},[t._v("終於，我們發現了-銅離子")])]),s("div",{staticClass:"intro"},[s("div",{staticClass:"img animated_scale"},[s("img",{attrs:{src:a("20e3"),alt:""}})]),s("h2",{staticClass:"animated_fadeIn"},[t._v("什麼是銅離子?")]),s("br"),s("p",{staticClass:"animated_fadeIn"},[t._v("銅離子抗菌纖維是一種機能性纖維，具有阻斷疾病傳播、消除異味、修復皮膚等效果，是新型的抗菌紡織品。早在2008年，美國環境保護機構(NRDC)就登記核准了五種銅合金用於抗菌材料，這些銅合金可以在2小時內殺滅物體表面99%的細菌。")]),s("p",{staticClass:"animated_fadeIn"},[t._v("銅是人體內本身就含有的生命元素，所以銅離子的化合物都可溶解，進入人體的銅，也進行正常的新陳代謝排出體外，對人體皮膚無刺激性及過敏現象，對人體健康安全無虞。")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"testTitle"}},[a("div",{staticClass:"icons animated_slideToRight"},[a("i",{staticClass:"fas fa-atom"}),a("i",{staticClass:"fas fa-plus"}),a("i",{staticClass:"far fa-lightbulb lightbulb"}),a("i",{staticClass:"fas fa-equals"}),a("i",{staticClass:"fas fa-question"})]),a("h2",{staticClass:"animated_fadeIn"},[t._v("然後...我們嘗試在日常使用的物品加入銅離子")]),a("h2",{staticClass:"animated_fadeIn"},[t._v("發現了驚人的效果!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"test"}},[s("div",{staticClass:"title animated_fadeIn"},[s("h2",[t._v("什麼驚人的效果呢?")]),s("h3",[t._v("讓我們實驗給您看!")]),s("hr")]),s("div",{staticClass:"contents"},[s("div",{staticClass:"content"},[s("div",{staticClass:"img animated_showUp"},[s("img",{attrs:{src:a("0ebf"),alt:""}})]),s("div",{staticClass:"text animated_fadeIn"},[s("h2",[t._v("培養皿測試")]),s("p",[t._v("在培養皿中放入銅離子母片和沒有放入銅離子母片做比較，有銅離子的話，培養皿裡面幾乎沒有受到細菌汙染!")])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"img animated_showUp"},[s("img",{attrs:{src:a("50ac"),alt:""}})]),s("div",{staticClass:"text animated_fadeIn"},[s("h2",[t._v("未加入銅離子")]),s("p",[t._v("未加入銅離子的商品放在水中，時間久了就會褪色，被細菌汙染，變得醜醜的，耐用性降低很多!")])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"img animated_showUp"},[s("img",{attrs:{src:a("1fae"),alt:""}})]),s("div",{staticClass:"text animated_fadeIn"},[s("h2",[t._v("加入銅離子後")]),s("p",[t._v("加入銅離子的商品，不但沒受到細菌汙染，而且還不會退色，保持商品的功能與外觀，並且提升耐用性! ")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"copperProductTitle"}},[a("div",{staticClass:"text "},[a("i",{staticClass:"fas fa-globe-asia earth animated_slideDown"}),a("h2",{staticClass:"animated_fadeIn"},[t._v("為了愛護地球，環保必須從你我做起。")]),a("p",{staticClass:"animated_fadeIn"},[t._v("我們推出一些商品，在生活同時也響應環保!")])]),a("div",{staticClass:"mountains animated_fadeIn"},[a("i",{staticClass:"fas fa-mountain m"}),a("i",{staticClass:"fas fa-mountain s"}),a("i",{staticClass:"fas fa-mountain l"}),a("i",{staticClass:"fas fa-mountain s last"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",[t._v("抗菌專區")]),a("h2",{staticClass:"subtitle"},[t._v("Antibacterial")])])}],E=(a("caad"),a("2532"),a("1157")),A=a.n(E),O=a("a7ab"),y=a.n(O),x=(a("7b8d"),a("6a2c"),{name:"MyComponent",components:{VueSlickCarousel:y.a},data:function(){return{settings:{slidesToShow:2,autoplay:!0,responsive:[{breakpoint:768,settings:{slidesToShow:1,autoplay:!0}}]}}},methods:Object(m["a"])({},Object(o["b"])("productsModules",["getProducts"])),computed:Object(m["a"])(Object(m["a"])({},Object(o["c"])("productsModules",["products"])),{},{bugData:function(){var t=this;return t.products.filter((function(t){if("防蟲"===t.category)return t}))},ionData:function(){var t=this;return t.products.filter((function(t){if("銅離子"===t.category)return t}))},filterData:function(){var t=this;return t.searchText?t.products.filter((function(e){var a=e.title.toLowerCase().includes(t.searchText.toLowerCase());return a})):this.products}}),created:function(){this.getProducts()},mounted:function(){A()(document).ready((function(){A()(window).scroll((function(){var t=A()(window).scrollTop(),e=A()(window).height();A()(".animated_fadeIn").each((function(){var a=A()(this).offset().top;a<=e/1.5+t&&A()(this).addClass("fadeIn")})),A()(".animated_slideToRight").each((function(){var a=A()(this).offset().top;a<=e/1.5+t&&A()(this).addClass("slideToRight")})),A()(".animated_slideToLeft").each((function(){var a=A()(this).offset().top;a<=e/1.5+t&&A()(this).addClass("slideToLeft")})),A()(".animated_slideDown").each((function(){var a=A()(this).offset().top;a<=e/1.5+t&&A()(this).addClass("slideDown")})),A()(".animated_showUp").each((function(){var a=A()(this).offset().top;a<=e/1.5+t&&A()(this).addClass("showUp")})),A()(".animated_scale").each((function(){var a=A()(this).offset().top;a<=e/1.5+t&&A()(this).addClass("scale")}))}))}))}}),N=x,U=(a("d671"),Object(f["a"])(N,b,P,!1,null,"518ce858",null)),T=U.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container main-content mb-3 mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"list-group"},[t._l(t.categories,(function(e){return a("a",{key:e,staticClass:"list-group-item list-group-item-action",class:{active:e===t.searchText},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.searchText=e}}},[t._v(" "+t._s(e)+" ")])})),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:""===t.searchText},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.searchText=""}}},[t._v(" 全部顯示 ")])],2)]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"d-flex mb-4"},[a("form",{staticClass:"form-inline my-3 my-lg-0"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.searchText=""}}},[a("i",{staticClass:"fa fa-times"})])])])])]),a("div",{staticClass:"tab-pane",attrs:{id:"list-gift"}},[a("div",{staticClass:"row align-items-stretch"},t._l(t.filterData,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4 "},[a("div",{staticClass:"card border-2 box-shadow text-center h-100 img-fluid"},[a("img",{staticClass:"card-img-top priductPic",attrs:{src:e.imageUrl,alt:"Card image cap"},on:{click:t.openModal}}),a("div",{staticClass:"card-body card_text"},[a("h3",{staticClass:"card-title"},[t._v(t._s(e.title))]),a("p",{staticClass:"card-text text-left mb-3"},[t._v(t._s(e.content))]),a("p",{staticClass:"card-text text-right",class:{discounted:e.price>0}},[t._v("NT$"+t._s(e.origin_price)+"元/"+t._s(e.unit))]),e.price?a("p",{staticClass:"card-text text-right text-danger"},[t._v("現在只要:NT$ "+t._s(e.price)+"/"+t._s(e.unit))]):t._e()]),a("div",{staticClass:"card-footer border-top-0 bg-white"},[a("button",{staticClass:"btn btn-outline-secondary btn-block btn-sm",on:{click:function(a){return t.addtoCart(e.id)}}},[a("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 加到購物車 ")])])])])})),0)]),a("div",{staticClass:"modal fade",attrs:{id:"exampleModalLong",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},t._l(t.filterItem,(function(e){return a("div",{key:e.id,staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v(t._s(e.title))]),t._m(0,!0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"img w-50"},[a("img",{attrs:{src:e.imageUrl,alt:""}})]),a("div",{staticClass:"content p-3 d-flex flex-column justify-content-center w-50"},[a("p",[t._v(t._s(e.content))]),a("p",[t._v(t._s(e.description))]),a("p",{staticClass:"card-text text-right",class:{discounted:e.price>0}},[t._v("NT$"+t._s(e.origin_price)+"元/"+t._s(e.unit))]),e.price?a("p",{staticClass:"card-text text-right text-danger"},[t._v("現在只要:NT$ "+t._s(e.price)+"/"+t._s(e.unit))]):t._e()])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addtoCart(e.id)}}},[a("i",{staticClass:"fa fa-cart-plus mr-1",attrs:{"aria-hidden":"true"}}),t._v("加入購物車 ")])])])})),0)])])])])])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],S=(a("ac1f"),a("5319"),{name:"Home",data:function(){return{searchText:""}},computed:Object(m["a"])({filterData:function(){var t=this;return t.searchText?t.products.filter((function(e){var a=e.title.toLowerCase().includes(t.searchText.toLowerCase());return a})):this.products},filterItem:function(){var t=this;return t.products.filter((function(e){if(t.products.id===e.id)return e}))}},Object(o["c"])("productsModules",["categories","products"])),methods:Object(m["a"])(Object(m["a"])({},Object(o["b"])("productsModules",["getProducts"])),{},{addtoCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("cartsModules/addtoCart",{id:t,qty:e})},openModal:function(){A()("#exampleModalLong").modal("show")}}),created:function(){this.getProducts();var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");console.log("這是token",t),this.$http.defaults.headers.common.Authorization="".concat(t)}}),V=S,j=(a("35e2"),Object(f["a"])(V,w,L,!1,null,null,null)),D=j.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.signin(e)}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("管理者平台")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._m(0),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),a("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2020")])])])},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkbox mb-3"},[a("label",[a("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" Remember me ")])])}],I=(a("99af"),{data:function(){return{user:{password:"",username:""}}},methods:{signin:function(){var t="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/admin/signin"),e=this;this.$store.dispatch("updateLoading",!0),this.$http.post(t,e.user).then((function(t){if(console.log("這是response",t),console.log("這是vm.user",e.user),console.log("這是response.data",t.data),t.data.success){e.$store.dispatch("updateLoading",!1),e.$router.push("/admin/products");var a=t.data.token,s=t.data.expired;console.log(a,s),document.cookie="hexToken=".concat(a,";expires=").concat(new Date(s),";")}}))}}}),M=I,R=(a("1100"),Object(f["a"])(M,$,k,!1,null,"808dda8e",null)),B=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"row justify-content-center "},[a("div",{staticClass:"col-md-6 col-sm-8 col-10 mt-2 mb-5 justify-content-center p-5 order"},[a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.cart.carts,(function(e){return a("tr",{key:e.id},[a("td",[a("button",{staticClass:"btn",on:{click:function(a){return t.removeCart(e.id)}}},[a("i",{staticClass:"fas fa-trash"})])]),a("td",[t._v(" "+t._s(e.product.title)+" "),e.coupon?a("div",{staticClass:"text-success"},[t._v(" 已套用優惠碼 ")]):t._e()]),a("td",[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",[t._v(t._s(e.product.price)+"元")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-left"},[t._v("總計")]),a("td"),a("td"),a("td",{class:{disconted:t.cart.final_total!==t.cart.total}},[t._v(t._s(t.cart.total)+"元")])]),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-left text-success"},[t._v("折扣價")]),a("td"),a("td"),a("td",{staticClass:" text-success"},[t._v(t._s(t.cart.final_total)+"元")])]):t._e()])]),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cupon_code,expression:"cupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.cupon_code},on:{input:function(e){e.target.composing||(t.cupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])])])]),t._m(2),a("div",{staticClass:"row justify-content-center pb-5 "},[a("form",{staticClass:"col-md-6 col-sm-8 col-10 order p-5 mt-2",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("email"))+" ")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("phone")},attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話",name:"phone"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("phone")?a("span",{staticClass:"text-danger"},[t._v("請輸入連絡電話")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("span",{staticClass:"text-danger"})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._m(3)])])])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",{staticClass:"text-center pt-5"},[t._v("購物清單")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th"),a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h2",{staticClass:"text-center pt-3"},[t._v("基本資料")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-warning submit"},[t._v("送出訂單")])])}],G={data:function(){return{cupon_code:"",product:{},status:{loadingItem:""},form:{user:{}}}},computed:Object(m["a"])(Object(m["a"])({},Object(o["c"])("productsModules",["products"])),Object(o["c"])("cartsModules",["cart"])),methods:Object(m["a"])(Object(m["a"])(Object(m["a"])({},Object(o["b"])("productsModules",["getProducts"])),Object(o["b"])("cartsModules",["getCart","removeCart"])),{},{addCouponCode:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/coupon"),a={code:t.cupon_code};this.$http.post(e,{data:a}).then((function(e){console.log("是否套用優惠券",e),t.getCart()}))},createOrder:function(){var t=this,e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/order"),s=e.form;this.$validator.validate().then((function(o){o?t.$http.post(a,{data:s}).then((function(t){console.log("訂單已建立",t),t.data.success&&e.$router.push("/front_checkout/".concat(t.data.orderId))})):console.log("欄位不完整")}))}}),created:function(){this.getProducts(),this.getCart()}},F=G,W=(a("2210"),Object(f["a"])(F,H,q,!1,null,"882096ca",null)),z=W.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-5"},[a("h2",{staticClass:"text-center pt-3"},[t._v("您的訂單")]),a("div",{staticClass:"pt-5 pb-5 m-auto col-md-6 col-sm-10 col-10 row justify-content-center order_list"},[a("form",{staticClass:"col-md-10 col-sm-10 col-10",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-warning"},[t._v("確認付款去")])]):t._e()])])])},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],K={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/order/").concat(t.orderId);t.isLoading=!0,this.$http.get(e).then((function(e){console.log(e),t.order=e.data.order,t.isLoading=!1}))},payOrder:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/pay/").concat(t.orderId);t.isLoading=!0,this.$http.post(e).then((function(e){console.log(e),t.isLoading=!1,e.data.success&&t.getOrder()}))}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},X=K,Y=(a("4ebc"),Object(f["a"])(X,J,Q,!1,null,"7f263598",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar"),a("Alert"),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("Sidebar"),a("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 p-3 px-4",attrs:{role:"main"}},[a("router-view")],1)],1)])],1)},et=[],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"col-md-2 d-done d-md-block bg-light sidebar"},[a("div",{staticClass:"sidebar-sticky pt-3"},[t._m(0),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link navlink",attrs:{to:"/admin/products"}},[a("i",{staticClass:"fas fa-box-open"}),a("span",{staticClass:"justify-content"},[t._v("產品列表")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link navlink",attrs:{to:"/admin/orders"}},[a("i",{staticClass:"fas fa-clipboard-list list"}),a("span",{staticClass:"justify-content"},[t._v("訂單列表")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link navlink",attrs:{to:"/admin/cupons"}},[a("i",{staticClass:"fas fa-ticket-alt"}),a("span",{staticClass:"justify-content"},[t._v("優惠券")])])],1)]),t._m(1),a("ul",{staticClass:"nav flex-column mb-2"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/simulation/customer_orders"}},[t._v(" 模擬訂單 ")])],1)])])])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("管理員")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[a("span",[t._v("模擬功能")]),a("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#","aria-label":"Add a new report"}},[a("span",{attrs:{"data-feather":"plus-circle"}})])])}],ot=(a("53cc"),{}),it=Object(f["a"])(ot,at,st,!1,null,"1cef3b71",null),rt=it.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-2 shadow mb-3 mt--1"},[a("a",{staticClass:"navbar-brand col-md-3 col-lg-2 mr-0 px-3",attrs:{href:"#"}},[t._v("管理者後台")]),t._m(0),a("input",{staticClass:"form-control form-control-dark w-100",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),a("ul",{staticClass:"navbar-nav px-3"},[a("li",{staticClass:"nav-item text-nowrap",on:{click:function(e){return e.preventDefault(),t.signout(e)}}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("登出")])])])])])},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler position-absolute d-md-none collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],lt={name:"Navbar",methods:{signout:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/logout");this.$http.post(e).then((function(e){e.data.success&&t.$router.push("/signin")}))}}},dt=lt,ut=Object(f["a"])(dt,nt,ct,!1,null,null,null),pt=ut.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},_t=[],vt=(a("4160"),a("a434"),a("159b"),{name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))}}),ft=vt,gt=(a("4a2f"),Object(f["a"])(ft,mt,_t,!1,null,null,null)),ht=gt.exports,Ct={components:{Sidebar:rt,Navbar:pt,Alert:ht},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="".concat(t)}},bt=Ct,Pt=Object(f["a"])(bt,tt,et,!1,null,null,null),Et=Pt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal(!0)}}},[t._v("建立新產品")])]),a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.products,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.category))]),a("td",[t._v(" "+t._s(e.title)+" ")]),a("td",{staticClass:"text-left"},[t._v(" "+t._s(t._f("currency")(e.origin_price))+" ")]),a("td",{staticClass:"text-left"},[t._v(" "+t._s(t._f("currency")(e.price))+" ")]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openModal(!1,e)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.deletItem(e)}}},[t._v("刪除")])])])})),0)]),a("Switchpages",{attrs:{pages:t.pagination},on:{switch:t.getProducts}}),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),t.status.fileUploading?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl,img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",alt:""}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("標題")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"category",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("單位")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"origin_price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})])]),a("hr"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v("產品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("說明內容")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){var a=t.tempProduct.is_enabled,s=e.target,o=s.checked?1:0;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.tempProduct,"is_enabled",a.concat([i])):r>-1&&t.$set(t.tempProduct,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempProduct,"is_enabled",o)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger sureDelete",attrs:{type:"button"},on:{click:t.deletItemSure}},[t._v("確認刪除")])])])])])],1)},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("分類")]),a("th",[t._v("產品名稱")]),a("th",{attrs:{width:"80"}},[t._v("售價")]),a("th",{attrs:{width:"80"}},[t._v("特價")]),a("th",{attrs:{width:"100"}},[t._v("啟用與否")]),a("th",{attrs:{width:"100"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("新增產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("刪除產品")])]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre},on:{click:function(e){return e.preventDefault(),t.changepages(t.pages.current_page-1)}}},[t._m(0)]),t._l(t.pages.total_pages,(function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.pages.current_page===e},on:{click:function(a){return a.preventDefault(),t.changepages(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next},on:{click:function(e){return e.preventDefault(),t.changepages(t.pages.current_page+1)}}},[t._m(1)])],2)])])},xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),a("span",{staticClass:"sr-only"},[t._v("Next")])])}],Nt={props:["pages"],methods:{changepages:function(t){this.$emit("switch",t)}}},Ut=Nt,Tt=Object(f["a"])(Ut,yt,xt,!1,null,null,null),wt=Tt.exports,Lt={components:{Switchpages:wt},data:function(){return{pagination:{},products:[],tempProduct:{},isNew:!1,isLoading:!1,status:{fileUploading:!1}}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/products?page=").concat(t),a=this;a.isLoading=!0,this.$http.get(e).then((function(t){console.log(t.data),a.isLoading=!1,a.products=t.data.products,a.pagination=t.data.pagination}))},deletItem:function(t){this.tempProduct=t,A()("#delProductModal").modal("show")},deletItemSure:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/product/").concat(t.tempProduct.id);this.$http.delete(e).then((function(e){console.log(e),e.data.success?(A()("#delProductModal").modal("hide"),t.getProducts()):(A()("#delProductModal").modal("hide"),t.getProducts(),console.log("刪除失敗"))}))},openModal:function(t,e){console.log("這是item",e),t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},e),this.isNew=!1),A()("#productModal").modal("show")},updateProduct:function(){var t="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/product"),e="post",a=this;a.isNew||(t="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/product/").concat(a.tempProduct.id),e="put"),this.$http[e](t,{data:a.tempProduct}).then((function(t){console.log(t.data),t.data.success?(A()("#productModal").modal("hide"),a.getProducts()):(A()("#productModal").modal("hide"),a.getProducts(),console.log("更新失敗"))}))},uploadFile:function(){var t=this;console.log(this);var e=this.$refs.files.files[0],a=this;a.status.fileUploading=!0;var s=new FormData;s.append("file-to-upload",e);var o="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/upload");this.$http.post(o,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a.status.fileUploading=!1,console.log(e.data),e.data.success?(a.$set(a.tempProduct,"imageUrl",e.data.imageUrl),console.log(a.tempProduct)):t.$bus.$emit("message:push",e.data.message,"danger")}))}},created:function(){this.getProducts()}},St=Lt,Vt=Object(f["a"])(St,At,Ot,!1,null,null,null),jt=Vt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row mt-4"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),a("h5",{staticClass:"card-title"},[a("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(e.title))])]),a("p",{staticClass:"card-text"},[t._v("內容")]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e.price?t._e():a("del",{staticClass:"h6"},[t._v("原價:"+t._s(e.origin_price)+"元")]),e.price?a("div",{staticClass:"h5"},[t._v("原價:"+t._s(e.origin_price)+"元")]):t._e(),e.price?a("div",{staticClass:"h5"},[t._v("特價:"+t._s(e.price)+"元")]):t._e()])]),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.getProduct(e.id)}}},[t.status.loadingItem===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addToCart(e.id)}}},[t.status.loadingItem===e.id?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])})),0),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.product.title))]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:""}}),a("blockquote",{staticClass:"blockquote mt-3"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.product.content))]),a("footer",{staticClass:"blockquote-footer text-right"},[t._v(t._s(t.product.description))])]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():a("div",{staticClass:"h4"},[t._v(t._s(t.product.origin_price)+" 元")]),t.product.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t.product.origin_price)+" 元")]):t._e(),t.product.price?a("div",{staticClass:"h4"},[t._v("現在只要 "+t._s(t.product.price)+" 元")]):t._e()]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"num",e.target.multiple?a:a[0])}}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])})),0)]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"text-muted text-nowrap mr-3"},[t._v(" 小計 "),a("strong",[t._v(t._s(t.product.num*t.product.price))]),t._v(" 元 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.product.id,t.product.num)}}},[a("i",{staticClass:"fas fa-spinner fa-spin"}),t._v(" 加到購物車 ")])])])])]),a("div",{staticClass:"row my-5 justify-content-center"},[a("div",{staticClass:"row my-5 justify-content-center"},[a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.cart.carts,(function(e){return a("tr",{key:e.id},[a("td",[a("button",{staticClass:"btn",on:{click:function(a){return t.removeCartItem(e.id)}}},[a("i",{staticClass:"fas fa-trash"})])]),a("td",[t._v(" "+t._s(e.product.title)+" "),e.coupon?a("div",{staticClass:"text-success"},[t._v(" 已套用優惠碼 ")]):t._e()]),a("td",[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",[t._v(t._s(e.product.price)+"元")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-left"},[t._v("總計")]),a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v(t._s(t.cart.total)+"元")])]),t.cart.final_total!==t.cart.total?a("tr",[a("td",{staticClass:"text-left text-success"},[t._v("折扣價")]),a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v(t._s(t.cart.final_total)+"元")])]):t._e()])]),a("div",{staticClass:"input-group mb-3 input-group-sm"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cupon_code,expression:"cupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.cupon_code},on:{input:function(e){e.target.composing||(t.cupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])])])]),a("div",{staticClass:"my-5 row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("email"))+" ")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("phone")},attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話",name:"phone"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("phone")?a("span",{staticClass:"text-danger"},[t._v("請輸入連絡電話")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),a("span",{staticClass:"text-danger"})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._m(2)])])],1)},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th"),a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[t._v("送出訂單")])])}],kt={data:function(){return{isLoading:!1,cupon_code:"",cart:{},products:[],product:{},status:{loadingItem:""},form:{user:{}}}},methods:{getProducts:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/products?page=:page");t.isLoading=!0,this.$http.get(e).then((function(e){console.log("這是所有產品列表",e),t.products=e.data.products,t.isLoading=!1}))},getProduct:function(t){var e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/product/").concat(t);e.status.loadingItem=t,this.$http.get(a).then((function(t){e.product=t.data.product,console.log(t),A()("#productModal").modal("show"),e.status.loadingItem=""}))},addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this,s="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart");a.status.loadingItem=t;var o={product_id:t,qty:e};this.$http.post(s,{data:o}).then((function(t){console.log("這是加入購物車的東西",t),a.status.loadingItem="",a.getCart(),A()("#productModal").modal("hide")}))},getCart:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart");t.isLoading=!0,this.$http.get(e).then((function(e){console.log("這是購物車列表",e),t.cart=e.data.data,t.isLoading=!1}))},removeCartItem:function(t){var e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(t);e.isLoading=!0,this.$http.delete(a).then((function(t){console.log("已刪除",t),e.getCart(),e.isLoading=!1}))},addCouponCode:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/coupon"),a={code:t.cupon_code};t.isLoading=!0,this.$http.post(e,{data:a}).then((function(e){console.log("是否套用優惠券",e),t.getCart(),t.isLoading=!1}))},createOrder:function(){var t=this,e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/order"),s=e.form;this.$validator.validate().then((function(o){o?t.$http.post(a,{data:s}).then((function(t){console.log("訂單已建立",t),t.data.success&&e.$router.push("/simulation/customer_checkout/".concat(t.data.orderId))})):console.log("欄位不完整")}))}},created:function(){this.getProducts(),this.getCart()}},It=kt,Mt=(a("1b36"),Object(f["a"])(It,Dt,$t,!1,null,null,null)),Rt=Mt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"my-5 row justify-content-center"},[a("form",{staticClass:"col-md-6",on:{submit:function(e){return e.preventDefault(),t.payOrder(e)}}},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.final_total))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",{attrs:{width:"100"}},[t._v("Email")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",[t._v("收件人電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",[t._v("收件人地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",[t._v("付款狀態")]),a("td",[t.order.is_paid?a("span",{staticClass:"text-success"},[t._v("付款完成")]):a("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])])])},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("單價")])])}],qt={data:function(){return{order:{user:{}},orderId:""}},methods:{getOrder:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/order/").concat(t.orderId);t.isLoading=!0,this.$http.get(e).then((function(e){console.log(e),t.order=e.data.order,t.isLoading=!1}))},payOrder:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/pay/").concat(t.orderId);t.isLoading=!0,this.$http.post(e).then((function(e){console.log(e),t.isLoading=!1,e.data.success&&t.getOrder()}))}},created:function(){this.orderId=this.$route.params.orderId,console.log(this.orderId),this.getOrder()}},Gt=qt,Ft=Object(f["a"])(Gt,Bt,Ht,!1,null,null,null),Wt=Ft.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t.orders.length?a("table",{staticClass:"table mt-4"},[t._m(0),a("tbody",t._l(t.sortOrder,(function(e){return a("tr",{key:e.id,class:{"text-secondary":!e.is_paid}},[a("td",[t._v(t._s(t._f("date")(e.create_at)))]),a("td",[e.user?a("span",{domProps:{textContent:t._s(e.user.email)}}):t._e()]),a("td",[a("ul",{staticClass:"list-unstyled"},t._l(e.products,(function(e,s){return a("li",{key:s},[t._v(" "+t._s(e.product.title)+" 數量："+t._s(e.qty)+" "+t._s(e.product.unit)+" ")])})),0)]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.total)))]),a("td",[e.is_paid?a("span",{staticClass:"text-success"},[t._v("已付款")]):a("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])})),0)]):t._e(),a("Switchpages",{attrs:{pages:t.pagination},on:{switch:t.getOrders}})],1)},Jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("購買時間")]),a("th",[t._v("Email")]),a("th",[t._v("購買款項")]),a("th",[t._v("應付金額")]),a("th",[t._v("是否付款")])])])}],Qt={components:{Switchpages:wt},data:function(){return{orders:[],pagination:{},isLoading:!1}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/orders?page=").concat(t);console.log(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH),e.isLoading=!0,this.$http.get(a).then((function(t){console.log(t),e.isLoading=!1,e.orders=t.data.orders,e.pagination=t.data.pagination,console.log(t.data)}))}},computed:{sortOrder:function(){var t=this,e=[];return t.orders.length&&(e=t.orders.sort((function(t,e){var a=t.is_paid?1:0,s=e.is_paid?1:0;return s-a}))),e}},created:function(){this.getOrders()}},Kt=Qt,Xt=Object(f["a"])(Kt,zt,Jt,!1,null,null,null),Yt=Xt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"text-right mb-4"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.openModal(!0)}}},[t._v("建立優惠券")])]),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.coupons,(function(e){return a("tr",{key:e.id},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.title))]),a("td",[t._v(t._s(e.percent))]),a("td",[t._v(t._s(t._f("date")(e.due_date)))]),a("td",[e.is_enabled?a("span",{staticClass:"text-success"},[t._v("啟用")]):a("span",[t._v("未啟用")])]),a("td",[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openModal(!1,e)}}},[t._v("編輯")]),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(a){return t.openDelete(e)}}},[t._v("刪除")])])])})),0)]),a("Switchpages",{attrs:{pages:t.pagination},on:{switch:t.getCoupon}}),a("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"couponModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content border-0"},[a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"couponModalLabel"}},[t.isNew?a("span",[t._v("新增優惠券")]):a("span",[t._v("編輯"+t._s(t.tempCoupon.title)+"優惠券")])]),t._m(1)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",[a("label",{attrs:{for:"title"}},[t._v("優惠券名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:"請輸入優惠券名稱"},domProps:{value:t.tempCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"title",e.target.value)}}})]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"category"}},[t._v("優惠碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"code",e.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:"due_date"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control mb-2",attrs:{type:"date"},domProps:{value:t.due_date},on:{input:function(e){e.target.composing||(t.due_date=e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:""}},[t._v("折扣%數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control mb-4",attrs:{type:"text",placeholder:"請輸入數字"},domProps:{value:t.tempCoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"percent",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-md-6"},[a("label",{attrs:{for:""}},[t._v("是否啟用")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t.tempCoupon.is_enabled},on:{change:function(e){var a=t.tempCoupon.is_enabled,s=e.target,o=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&t.$set(t.tempCoupon,"is_enabled",a.concat([i])):r>-1&&t.$set(t.tempCoupon,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.tempCoupon,"is_enabled",o)}}})])])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v("確認")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),a("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 優惠券，刪除後無法復原! ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.openDeleteSure}},[t._v("確認")])])])])])],1)},te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("名稱")]),a("th",{attrs:{scope:"col"}},[t._v("折扣百分比")]),a("th",{attrs:{scope:"col"}},[t._v("到期日")]),a("th",{attrs:{scope:"col"}},[t._v("啟用與否")]),a("th",{attrs:{scope:"col"}},[t._v("編輯")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("刪除優惠券")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],ee=(a("1276"),{components:{Switchpages:wt},data:function(){return{coupons:[],pagination:{},tempCoupon:{},isNew:!1,isLoading:!1,due_date:new Date}},watch:{due_date:function(){var t=this,e=Math.floor(new Date(t.due_date)/1e3);t.tempCoupon.due_date=e}},methods:{getCoupon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupons?page=").concat(t);e.isLoading=!0,this.$http.get(a).then((function(t){console.log(t.data),e.coupons=t.data.coupons,e.isLoading=!1,e.pagination=t.data.pagination}))},openModal:function(t,e){var a=this;if(A()("#couponModal").modal("show"),a.isNew=t,a.isNew)a.tempCoupon={};else{a.tempCoupon=Object.assign({},e);var s=new Date(1e3*a.tempCoupon.due_date).toISOString().split("T");a.due_date=s[0]}},updateCoupon:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupon"),a="post";t.isLoading=!0,t.isNew||(e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupon/").concat(t.tempCoupon.id),a="put"),this.$http[a](e,{data:t.tempCoupon}).then((function(e){console.log(e.data),t.getCoupon(),t.isLoading=!1})),A()("#couponModal").modal("hide")},openDelete:function(t){this.tempCoupon=t,A()("#deleteModal").modal("show")},openDeleteSure:function(){var t=this,e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupon/").concat(t.tempCoupon.id);this.$http.delete(e).then((function(e){console.log(e.data),t.getCoupon()})),A()("#deleteModal").modal("hide")}},created:function(){this.getCoupon()}}),ae=ee,se=Object(f["a"])(ae,Zt,te,!1,null,null,null),oe=se.exports;s["a"].use(C["a"]);var ie=new C["a"]({routes:[{path:"*",redirect:"/login"},{name:"Home",path:"/",component:T},{name:"Shop",path:"/shop",component:D},{name:"FrontOrders",path:"/front_orders",component:z},{path:"/front_checkout/:orderId",name:"FrontCheckout",component:Z},{path:"/login",name:"Login",component:B},{path:"/admin",name:"Dashboard",component:Et,children:[{path:"products",name:"Products",component:jt,meta:{requiresAuth:!0}},{path:"cupons",name:"Cupons",component:oe,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:Yt,meta:{requiresAuth:!0}}]},{path:"/simulation",name:"Dashboard2",component:Et,children:[{path:"customer_orders",name:"CustomerOrders",component:Rt},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:Wt}]}]});s["a"].prototype.$bus=new s["a"];a("a9e3"),a("b680");var re=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var s=e&&"."!==t&&(a.length-e)%3===0?","+t:t;return s})))},ne=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()},ce=a("7bb1"),le=a("427f"),de=a.n(le),ue=a("a925"),pe=(a("a630"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),{namespaced:!0,strict:!0,state:{products:[],categories:[]},actions:{getProducts:function(t){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/products/all");t.commit("LOADING",!0,{root:!0}),console.log("這是context",t),r.a.get(e).then((function(e){console.log(e),t.commit("PRODUCTS",e.data.products),t.commit("CATEGORIES",e.data.products),console.log("取得產品列表:",e),t.commit("LOADING",!1,{root:!0})}))}},mutations:{PRODUCTS:function(t,e){t.products=e,console.log("這是payload",e)},CATEGORIES:function(t,e){var a=new Set;console.log("categories",a),console.log("這是CATEGORIES的state",t),console.log("這是CATEGORIES的payload",e),e.forEach((function(t){a.add(t.category)})),console.log("forEach後的categories",a),t.categories=Array.from(a),console.log("state.categories",t.categories)}},getters:{categories:function(t){return t.categories},products:function(t){return t.products}}}),me={namespaced:!0,strict:!0,state:{cart:{carts:[]}},actions:{getCart:function(t){t.commit("LOADING",!0,{root:!0});var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart");r.a.get(e).then((function(e){e.data.data.carts&&t.commit("CART",e.data.data),t.commit("LOADING",!1,{root:!0}),console.log("取得購物車",e.data.data)}))},removeCart:function(t,e){var a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(e);t.commit("LOADING",!0,{root:!0}),r.a.delete(a).then((function(e){t.commit("LOADING",!1,{root:!0}),t.dispatch("getCart"),console.log("刪除購物車項目",e)}))},addtoCart:function(t,e){var a=e.id,s=e.qty,o="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart");t.commit("LOADING",!0,{root:!0});var i={product_id:a,qty:s};r.a.post(o,{data:i}).then((function(e){t.commit("LOADING",!1,{root:!0}),t.dispatch("getCart"),console.log("加入購物車:",e)}))}},mutations:{CART:function(t,e){console.log("CART的payload",e),t.cart=e}},getters:{cart:function(t){return t.cart}}},_e={strict:!0,namespaced:!0,state:{pagination:[],coupons:[],tempCoupon:{},isNew:!1,due_date:new Date},mutations:{PAGINATION:function(t,e){t.pagination=e},COUPONS:function(t,e){t.coupons=e},TEMPCOUPON:function(t,e){t.tempCoupon=e},ISNEW:function(t,e){t.isNew=e},DUEDATE:function(t,e){t.due_date=e}},actions:{getCoupon:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupons?page=").concat(e);t.commit("LOADING",!0,{root:!0}),r.a.get(a).then((function(e){console.log(e.data),t.commit("COUPONS",e.data.coupons),t.commit("LOADING",!1,{root:!0}),t.commit("PAGINATION",e.data.pagination)}))},openModal:function(t,e){var a=e.isNew,s=e.item;if(A()("#couponModal").modal("show"),t.commit("ISNEW",a),a){var o={};t.commit("TEMPCOUPON",o)}else{var i=Object.assign({title:s.title,percent:s.percent,due_date:s.due_date,code:s.code,is_enabled:s.is_enabled,id:s.id});t.commit("TEMPCOUPON",i);var r=new Date(1e3*t.state.tempCoupon.due_date).toISOString().split("T");t.commit("DUEDATE",r[0])}},updateCoupon:function(t){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupon"),a="post";t.state.isNew||(e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupon/").concat(t.state.tempCoupon.id),a="put"),r.a[a](e,{data:t.state.tempCoupon}).then((function(e){A()("#couponModal").modal("hide"),e.data.success&&(A()("#couponModal").modal("hide"),t.dispatch("getCoupon"))}))},openDelete:function(t,e){t.commit("TEMPCOUPON",e),A()("#deleteModal").modal("show")},openDeleteSure:function(){var t="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/admin/coupon/").concat(context.state.tempCoupon.id);r.a.delete(t).then((function(t){console.log(t.data),context.dispatch("getCoupon")})),A()("#deleteModal").modal("hide")}},getters:{pagination:function(t){return t.pagination},coupons:function(t){return t.coupons},tempCoupon:function(t){return t.tempCoupon},isNew:function(t){return t.isNew},due_date:function(t){return t.due_date}}},ve={strict:!0,state:{isLoading:!1,cupon_code:"",cart:{},products:[],product:{},status:{loadingItem:""},form:{user:{}}},actions:{getProducts:function(t){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/products?page=:page");t.commit("LOADING",!0,{root:!0}),r.a.get(e).then((function(e){console.log("這是所有產品列表",e),t.commit("PRODUCTS",e.data.products),t.commit("LOADING",!1,{root:!0})}))},getCart:function(t){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart");t.commit("LOADING",!0,{root:!0}),r.a.get(e).then((function(e){console.log("這是購物車列表",e),t.commit("CART",e.data.data),t.connit("LOADING",!1,{root:!0})}))},removeCartItem:function(t,e){var a="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/cart/").concat(e);t.commit("LOADING",!0,{root:!0}),r.a.delete(a).then((function(e){console.log("已刪除",e),t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0})}))},addCouponCode:function(t){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/coupon"),a={code:t.cupon_code};t.commit("LOADING",!0,{root:!0}),r.a.post(e,{data:a}).then((function(e){console.log("是否套用優惠券",e),t.dispatch("getCart"),t.commit("LOADING",!1,{root:!0})}))},createOrder:function(t){var e="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/").concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_CUSTOMPATH,"/order"),a=t.form;t.$validator.validate().then((function(s){s?r.a.post(e,{data:a}).then((function(e){console.log("訂單已建立",e),e.data.success&&t.$router.push("/customer_checkout/".concat(e.data.orderId))})):console.log("欄位不完整")}))}},mutations:{CART:function(t,e){t.cart=e},PRODUCTS:function(t,e){t.products=e}},getters:{cart:function(t){return t.cart},products:function(t){return t.products}}};s["a"].use(o["a"]);var fe=new o["a"].Store({strict:!0,state:{isLoading:!1},actions:{updateLoading:function(t,e){t.commit("LOADING",e)}},mutations:{LOADING:function(t,e){t.isLoading=e,console.log("這是status",e)}},modules:{productsModules:pe,cartsModules:me,couponsModules:_e,checkoutModules:ve}});r.a.defaults.withCredentials=!0,s["a"].config.productionTip=!1,s["a"].use(c.a,r.a),s["a"].use(ue["a"]),s["a"].use(o["a"]),s["a"].component("Loading",d.a),s["a"].filter("currency",re),s["a"].filter("date",ne);var ge=new ue["a"]({locale:"zhTW"});s["a"].use(ce["a"],{events:"input|blur",i18n:ge,dictionary:{zhTW:de.a}}),new s["a"]({router:ie,store:fe,i18n:ge,render:function(t){return t(h)}}).$mount("#app"),ie.beforeEach((function(t,e,a){if(console.log("to",t,"from",e),console.log("這是next",a),t.meta.requiresAuth){console.log("這裡需要驗證");var s="".concat(Object({NODE_ENV:"production",BASE_URL:"/greenery/dist/"}).VUE_APP_APIPATH,"/api/user/check");r.a.post(s).then((function(t){console.log("這是response.data",t.data),t.data.success?a():a({path:"/login"})}))}else a()}))},7976:function(t,e,a){},"7cac":function(t,e,a){"use strict";a("7976")},"7ec9":function(t,e,a){},"863b":function(t,e,a){},"8fdc":function(t,e,a){t.exports=a.p+"img/forest.24cdd735.jpg"},9647:function(t,e,a){t.exports=a.p+"img/air.a6653442.jpg"},"9f2e":function(t,e,a){},"9f77":function(t,e,a){t.exports=a.p+"img/danger.afc4a40f.png"},a65c:function(t,e,a){},af8c:function(t,e,a){t.exports=a.p+"img/ant.99fdb955.png"},b1d9:function(t,e,a){},bb1d:function(t,e,a){},cdb7:function(t,e,a){t.exports=a.p+"img/river.298635df.jpg"},cf25:function(t,e,a){"use strict";a("fcfc")},cfab:function(t,e,a){},d671:function(t,e,a){"use strict";a("cfab")},fcfc:function(t,e,a){}});
//# sourceMappingURL=app.b14134fb.js.map